<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Lista Masini</title>
</head>

<body>

<div class="container">
    <div>
        <p>Welcome <b><span th:text="${fullName}"></span></b></p>
        <form th:action="@{/logout}" method="post">
            <input type="submit" value="Sign Out" />
        </form>
    </div>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Nr Inmatriculare</th>
            <th>Marca</th>
            <th>Model</th>
            <th>Culoare</th>
            <th>An Fabricatie</th>
            <th>Capacitate</th>
            <th>Combustibil</th>
            <th>Putere</th>
            <th>Cuplu</th>
            <th>Volum Portbagaj</th>
            <th>Pret</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="masina : ${masini}">
            <td th:text="${masina.nrInmatriculare}"></td>
            <td th:text="${masina.marca}"></td>
            <td th:text="${masina.model}"></td>
            <td th:text="${masina.culoare}"></td>
            <td th:text="${masina.an_fabricatie}"></td>
            <td th:text="${masina.capacitate}"></td>
            <td th:text="${masina.combustibil}"></td>
            <td th:text="${masina.putere}"></td>
            <td th:text="${masina.cuplu}"></td>
            <td th:text="${masina.volum_portbagaj}"></td>
            <td th:text="${masina.pret}"></td>

        </tr>


        </tbody>
    </table>
    <div class="filter-bar">
        <input type="text" placeholder="Marca" id="marca" style="margin-right: 10px;">
        <input type="text" placeholder="Culoare" id="culoare" style="margin-right: 10px;">
        <input type="text" placeholder="Combustibil" id="combustibil" style="margin-right: 10px;">
        <button onclick="filterResults()" class="btn btn-secondary">Filtreaza</button>
    </div>
    <script>
        function filterResults() {
            var marca = document.getElementById('marca').value;
            var culoare = document.getElementById('culoare').value;
            var combustibil = document.getElementById('combustibil').value;
            window.location.href = `/masini/userfiltered?marca=${encodeURIComponent(marca)}&culoare=${encodeURIComponent(culoare)}&combustibil=${encodeURIComponent(combustibil)}`;
        }
    </script>
</div>

</body>





</html>